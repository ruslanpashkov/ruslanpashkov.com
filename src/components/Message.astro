---
interface Props {
	id?: string;
}

const { id = 'message' } = Astro.props;
---

<div aria-atomic="true" aria-live="polite" class="message" id={id}>
	<div class="message__content">
		<span class="message__text" id={`${id}-text`}>Hi!</span>
	</div>
</div>

<style>
	.message {
		pointer-events: none;
		position: absolute;
		top: 5%;
		left: 50%;
		transform: translateX(-50%) translateY(20px);
		width: 220px;
		border: 1px solid var(--color-secondary);
		border-radius: 24px;
		visibility: hidden;
		opacity: 0;
		background: var(--color-transparent);
		backdrop-filter: blur(10px);

		@media (width >= 768px) {
			left: 75%;
			max-width: 320px;
		}

		@media (width >= 1024px) {
			top: 10%;
		}

		@media (prefers-reduced-motion: no-preference) {
			transition:
				opacity calc(var(--motion-duration) * 2) ease-out,
				visibility calc(var(--motion-duration) * 2) ease-out,
				transform calc(var(--motion-duration) * 3) cubic-bezier(0.34, 1.56, 0.64, 1);
		}
	}

	.message--open {
		transform: translateX(-50%) translateY(0);
		visibility: visible;
		opacity: 1;
	}

	.message--shake {
		animation: shake 0.3s ease-in-out;
	}

	.message__content {
		position: relative;
		padding: 12px;
	}

	.message__text {
		font-size: 0.875rem;
		line-height: 1.2;
	}
</style>
